<div fxLayout
     fxLayout.lt-sm="column">
  <div *ngIf="leftFields.length"
       fxFlex="{{rightFields.length ? 50 : ''}}"
       fxFlex.lt-sm
       class="left-side">
    <ng-container [ngTemplateOutlet]="fieldsTemplate"
                  [ngTemplateOutletContext]="{$implicit:leftFields}"></ng-container>
  </div>
  <div *ngIf="rightFields.length"
       fxFlex
       class="right-side">
    <ng-container [ngTemplateOutlet]="fieldsTemplate"
                  [ngTemplateOutletContext]="{$implicit:rightFields}"></ng-container>
  </div>
</div>

<ng-template #fieldsTemplate
             let-fields>
  <div fxLayout="column"
       fxLayoutGap="10px">
    <div *ngFor="let item of fields">
      <label *ngIf="item.translationLabel">{{item.translationLabel | translate}}</label>
      <pre *ngIf="isField(item, textFieldClass)">{{item.value}}</pre>
      <mat-chip-list *ngIf="isField(item, chipsFieldClass)">
        <mat-chip *ngFor="let chip of item.values">{{chip}}</mat-chip>
      </mat-chip-list>
      <div *ngIf="isField(item, imageFieldClass)"
           fxLayoutAlign="center center">
        <ngx-image [canEdit]="false"
                   [object]="item.object"
                   [width]="130"
                   [height]="130"
                   [allowFullScreen]="false"
                   [type]="item.type"
                   [fileClass]="item.fileClass"
                   [format]="item.format"></ngx-image>
      </div>
      <iframe *ngIf="isField(item, videoFieldClass)"
              [src]="item.videoUrl | safeUrl"
              [height]="300"
              class="w-100"
              frameborder="0"
              scrolling="no"
              allow="autoplay; encrypted-media"
              allowfullscreen></iframe>
      <ngx-carousel *ngIf="isField(item, carouselFieldClass)"
                    [object]="item.data"
                    [fileClass]="item.fileClass"></ngx-carousel>
    </div>
  </div>
</ng-template>
