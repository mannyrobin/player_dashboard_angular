<div class="group base" *ngIf="isEditAllow || selectedBaseGroup">
  <label for="selectedBaseGroup">{{'persons.person.groups.baseGroup' | translate}}</label>
  <table class="table table-sm">
    <thead>
    <tr class="d-flex">
      <th class="col-1">{{'image' | translate}}</th>
      <th [ngClass]="{'col-2' : isEditAllow, 'col-3' : !isEditAllow}">{{'name' | translate}}</th>
      <th class="col-2">{{'groupType' | translate}}</th>
      <th class="col-2">{{'sportRole' | translate}}</th>
      <th class="col-2">{{'sportType' | translate}}</th>
      <th class="col-2">{{'mentor' | translate}}</th>
      <th class="col-1" *ngIf="isEditAllow"></th> <!--remove btn-->
    </tr>
    </thead>
    <tbody>
    <app-group-person id="selectedBaseGroup" class="group p-0" [(data)]="selectedBaseGroup"
                      [role]="selectedPublicUserRole"
                      [baseGroup]="isEditAllow"
                      (change)="onChange($event)"></app-group-person>
    </tbody>
  </table>
</div>
<div class="mt-3">
  <div>
    <label for="additional">{{'persons.person.groups.additionalGroups' | translate}}</label>
    <div class="row">
      <div class="col">
        <dx-text-box
          placeholder="{{'search' | translate}}"
          mode="search"
          [showClearButton]="true"
          (onInput)="onNameChanged($event.event.target.value)">
        </dx-text-box>
      </div>
      <div class="col">
        <dx-select-box [items]="groupTypes"
                       displayExpr="name"
                       (onValueChanged)="onGroupTypeChanged($event.value)"
                       placeholder="{{'groupType' | translate}}"
                       [showClearButton]="true">
        </dx-select-box>
      </div>
    </div>
  </div>
  <table class="table table-sm mt-1" *ngIf="groupPersons.length">
    <thead>
    <tr class="d-flex">
      <th class="col-1">{{'image' | translate}}</th>
      <th [ngClass]="{'col-2' : isEditAllow, 'col-3' : !isEditAllow}">{{'name' | translate}}</th>
      <th class="col-2">{{'groupType' | translate}}</th>
      <th class="col-2">{{'sportRole' | translate}}</th>
      <th class="col-2">{{'sportType' | translate}}</th>
      <th class="col-2">{{'mentor' | translate}}</th>
      <th class="col-1" *ngIf="isEditAllow"></th> <!--remove btn-->
    </tr>
    </thead>
    <tbody>
    <app-infinite-list id="additional" [items]="groupPersons"
                       (nextPage)="onNextPage($event)">
      <ng-template let-item>
        <app-group-person class="group p-0" [data]="item" [role]="selectedPublicUserRole"
                          [baseGroup]="false"
                          (change)="onChange($event)"></app-group-person>
      </ng-template>
    </app-infinite-list>
    </tbody>
  </table>
  <div class="d-flex flex-row mt-2" *ngIf="isEditAllow">
    <div class="d-flex flex-column">
      <div class="d-flex flex-row">
        <div class="form-group">
          <app-input-select
            [loadData]="loadData"
            [(model)]="newGroup"
            [pageSize]="pageSize"
            [getKey]="getKey"
            [getName]="getName"
            placeholder="{{'persons.person.groups.placeholder' | translate}}"
            ngDefaultControl>
          </app-input-select>
        </div>
      </div>
    </div>
    <div class="d-flex flex-column ml-2">
      <div class="d-flex flex-row">
        <button class="btn btn-outline-success" (click)="addGroup()" [disabled]="!newGroup">
          <i class="fa fa-plus"></i>
          <span> {{'add' | translate}}</span>
        </button>
      </div>
    </div>
  </div>
</div>
