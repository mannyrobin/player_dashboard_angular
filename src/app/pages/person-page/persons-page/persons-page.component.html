<div class="row">
  <div class="col">
    <dx-text-box #searchDxTextBoxComponent
                 placeholder="{{'search' | translate}}"
                 mode="search"
                 showClearButton="true">
    </dx-text-box>
  </div>
  <div class="col">
    <dx-date-box class="w-100"
                 type="date"
                 placeholder="{{'yearBirth' | translate}}"
                 showClearButton="true"
                 displayFormat="year"
                 maxZoomLevel="decade"
                 minZoomLevel="century"
                 (onValueChanged)="onYearBirthChanged($event.value)">
    </dx-date-box>
  </div>
  <div class="col">
    <dx-select-box [items]="sexItems"
                   displayExpr="name"
                   acceptCustomValue="true"
                   showClearButton="true"
                   placeholder="{{'sex' | translate}}"
                   (onSelectionChanged)="onSexChanged($event.selectedItem)">
    </dx-select-box>
  </div>
  <div class="col">
    <dx-select-box [items]="userRoles"
                   displayExpr="name"
                   acceptCustomValue="true"
                   showClearButton="true"
                   (onSelectionChanged)="onUserRoleChanged($event.selectedItem)"
                   placeholder="{{'userRole' | translate}}">
    </dx-select-box>
  </div>
  <div class="col">
    <app-input-select [loadData]="loadGroups"
                      [pageSize]="pageSize"
                      [getKey]="getKey"
                      [getName]="getName"
                      placeholder="{{'group' | translate}}"
                      ngDefaultControl
                      (onChange)="onGroupChanged($event.current)">
    </app-input-select>
  </div>
  <div class="col">
    <app-input-select [loadData]="loadSportTypes"
                      [pageSize]="pageSize"
                      [getKey]="getKey"
                      [getName]="getName"
                      placeholder="{{'sportType' | translate}}"
                      ngDefaultControl
                      (onChange)="onSportTypeChanged($event.current)">
    </app-input-select>
  </div>
  <div class="col">
    <app-input-select [loadData]="loadCities"
                      [pageSize]="pageSize"
                      [getKey]="getKey"
                      [getName]="getName"
                      placeholder="{{'city' | translate}}"
                      ngDefaultControl
                      (onChange)="onCityChanged($event.current)">
    </app-input-select>
  </div>
</div>

<dx-data-grid class="mt-2"
              [dataSource]="dataSource"
              rowTemplate="rowTemplateName"
              columnAutoWidth="true">

  <dxi-column caption="{{ 'image' | translate }}"
              width="80">
  </dxi-column>
  <dxi-column caption="{{ 'fullName' | translate }}"></dxi-column>
  <dxi-column caption="{{ 'yearBirth' | translate }}"></dxi-column>
  <dxi-column caption="{{ 'role' | translate }}"></dxi-column>
  <dxi-column caption="{{ 'group' | translate }}"></dxi-column>

  <dxo-load-panel [enabled]="true"></dxo-load-panel>
  <dxo-scrolling mode="infinite"></dxo-scrolling>
  <dxo-sorting mode="none"></dxo-sorting>
  <dxo-remote-operations [sorting]="false"
                         [paging]="true">
  </dxo-remote-operations>

  <tbody *dxTemplate="let row of 'rowTemplateName'">
  <tr [routerLink]="row.data.url">
    <td>
      <div *ngIf="row.data.imagePersonLogoUrl!==null"
           class="img-fluid logo-lg-circle"
           [ngStyle]="{'background-image': 'url('+ row.data.imagePersonLogoUrl +')'}">
      </div>
    </td>
    <td>
      <h5>{{row.data.person?.firstName}}<br>
        {{row.data.person?.lastName}}<br>
        {{row.data.person?.patronymic}}</h5>
    </td>
    <td>
      <h5>{{row.data.person?.birthDate | date:'yyyy'}}</h5>
    </td>
    <td>
      <h5>{{row.data?.baseUserRole?.name}}</h5></td>
    <td>
      <app-group-item *ngIf="row.data.baseGroup"
                      [data]="row.data.baseGroup">
      </app-group-item>
    </td>
  </tr>
  </tbody>
</dx-data-grid>
