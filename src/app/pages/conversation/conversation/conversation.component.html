<div class="d-flex w-100 p-2" [routerLink]="conversation.id">

  <app-image
    *ngIf="conversation"
    [type]="'LOGO'"
    [clazz]="conversationImageClazz"
    [id]="conversationImageId"
    [dimension]="'W80xH80'"
    [format]="'CIRCLE'"></app-image>

  <div class="d-flex flex-column w-100 ml-2">
    <div class="d-flex">
      <p class="name">{{conversationName}}</p>
      <p class="date ml-auto" *ngIf="!messageWrapper.empty">{{messageWrapper.message.created | date:'dd.MM.yyyy
        HH:mm'}}</p>
    </div>
    <div class="d-flex flex-row align-items-center p-2"
         [ngClass]="{'unread-message': !messageWrapper.empty && !messageWrapper.message.read}">
      <div
        *ngIf="!messageWrapper.empty && messageWrapper.message.content.discriminator == 'MESSAGE_CONTENT' && senderPerson"
        class="mr-2">
        <app-image [type]="'LOGO'"
                   [clazz]="'PERSON'"
                   [id]="senderPerson.id"
                   [dimension]="'W40xH40'"
                   [format]="'CIRCLE'"></app-image>
      </div>
      <div class="message" *ngIf="!messageWrapper.empty">
        <app-message [message]="messageWrapper.message" [onlyContent]="true"></app-message>
      </div>
      <div *ngIf="messageWrapper.unread" class="ml-auto">
        <span class="badge badge-primary p-1 ml-2">{{messageWrapper.unread}}</span>
      </div>
    </div>
  </div>
</div>
